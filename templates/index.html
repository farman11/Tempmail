{% extends "base.html" %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <!-- Hero Section -->
    <div class="text-center mb-12">
        <h1 class="text-4xl font-bold text-gray-800 mb-4">
            <i class="fas fa-shield-alt text-blue-600"></i> 
            Temporary Email Service
        </h1>
        <p class="text-xl text-gray-600 mb-6">
            Protect your privacy with real disposable email addresses that receive actual emails instantly. 
            No registration required, automatic expiration, completely anonymous.
        </p>
        <div class="bg-green-50 border border-green-200 rounded-lg p-4 text-green-800">
            <i class="fas fa-check-circle mr-2"></i>
            <strong>Real Email Service:</strong> All emails are real working addresses that receive actual emails instantly!
        </div>
    </div>

    <!-- Service Generation Card -->
    <div class="mb-12">
        <div class="bg-white rounded-lg shadow-lg p-8 text-center gmail-style">
            <i class="fas fa-envelope text-5xl text-blue-600 mb-4"></i>
            <h3 class="text-2xl font-bold text-gray-800 mb-4">Temporary Email</h3>
            <p class="text-gray-600 mb-6">
                Generate real temporary email addresses that receive actual emails instantly. 
                Perfect for verifications, sign-ups, and testing. No registration required.
            </p>
            <form method="POST" action="{{ url_for('generate_email') }}">
                <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-8 rounded-lg btn-transition">
                    <i class="fas fa-plus mr-2"></i> Generate Email
                </button>
            </form>
        </div>
    </div>

    <!-- Active Services -->
    {% if active_emails %}
    <div class="mb-8">
        <h3 class="text-2xl font-bold text-gray-800 mb-6">
            <i class="fas fa-list mr-2"></i> Your Active Email Addresses
        </h3>

        <div class="bg-white rounded-lg shadow-lg gmail-style">
            <div class="bg-gray-50 px-6 py-4 border-b border-gray-200">
                <h5 class="text-lg font-semibold text-gray-800">
                    <i class="fas fa-envelope mr-2"></i> 
                    Temporary Emails ({{ active_emails|length }}/5)
                </h5>
            </div>
            <div class="divide-y divide-gray-200">
                {% for email in active_emails %}
                <div class="flex justify-between items-center p-6 hover:bg-gray-50 transition-colors">
                    <div class="flex-1">
                        <code class="bg-blue-50 text-blue-800 px-2 py-1 rounded text-sm font-mono">{{ email.email_address }}</code>
                        <div class="mt-2 text-sm text-gray-600">
                            <i class="fas fa-clock mr-1"></i> 
                            Expires: {{ email.expires_at.strftime('%Y-%m-%d %H:%M') }}
                        </div>
                        {% if email.messages %}
                        <div class="mt-1 text-sm text-blue-600">
                            <i class="fas fa-envelope mr-1"></i> 
                            {{ email.messages|length }} message(s)
                        </div>
                        {% endif %}
                    </div>
                    <div class="flex space-x-2">
                        <button class="bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded btn-transition copy-btn" 
                                data-text="{{ email.email_address }}">
                            <i class="fas fa-copy"></i>
                        </button>
                        <a href="{{ url_for('email_inbox', email_id=email.id) }}" 
                           class="bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded btn-transition">
                            <i class="fas fa-inbox"></i>
                        </a>
                        <form method="POST" action="{{ url_for('delete_email', email_id=email.id) }}" 
                              style="display: inline;">
                            <button type="submit" class="bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded btn-transition"
                                    onclick="return confirm('Delete this email address?')">
                                <i class="fas fa-trash"></i>
                            </button>
                        </form>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
    {% endif %}
</div>
{% endblock %}
